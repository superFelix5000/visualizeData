/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.2_ES6
*/
zingchart.setModule("wordcloud"),function(){var t;ZC.ADY=((t=function(){this.AF6=9,this.AF5=99,this.AF4=2,this.EF=100,this.AF3=15,this.AF2=5,this.ZU=!1,this.EQ="word",this.ACK=[],this.AR="",this.aWords=[],this.oWordsMap=null,this.CV="spiral",this.AFB="palette",this.C1="#000",this.bNormalize=!1,this.AGH=function(){for(var t=(16777215*Math.random()+1<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},this.F0=function(){var t,e,a={};if(""!==this.AR){if("word"===this.EQ)t=this.AR.replace(/[\:\;\,\.\{\}\[\]\(\)\?\!\/\=\+\-]/g," ").split(" ");else if("character"===this.EQ)for(this.AF4=0,t=[],e=0;e<this.AR.length;e++)" "!==this.AR[e]&&t.push(this.AR[e]);for(e=0;e<t.length;e++){var o=this.bNormalize?t[e].toLowerCase():t[e];if(t[e].length>=this.AF4&&-1===ZC.AV(this.ACK,t[e]))if(this.bNormalize){var l=!1;for(var r in a)r.toLowerCase()===o&&(l=!0,a[r]++);l||(a[t[e]]=1)}else null===ZC._n_(a[t[e]])&&(a[t[e]]=0),a[t[e]]++}}if(this.aWords.length>0)for(this.oWordsMap={},e=0;e<this.aWords.length;e++){var i=this.aWords[e];null!==ZC._n_(i.text)&&(this.oWordsMap[i.text]=i,a[i.text]=i.count||0)}return a},this.intersectRect=function(t,e){return!(e.iX>t.iX+t.I||e.iX+e.I<t.iX||e.iY>t.iY+t.F||e.iY+e.F<t.iY)}}).getDefaults=function(e){var a={};return ZC._cp_(t.B8,a),t.O6[e]&&ZC._cp_(t.O6[e],a),a},t.B8={palette:["#6a921f","#007fa3","#a62b02","#b79007","#563d02","#0b32a0"]},t.O6={light:{palette:["#7CA82B","#29A2CC","#D31E1E","#EF8535","#A14BC9","#A05F18","#265E96","#6B7075"]},dark:{palette:["#7CA82B","#29A2CC","#D31E1E","#EF8535","#A14BC9","#A05F18","#265E96","#6B7075"]}},t),zingchart.bind(null,"dataparse",function(t,e){for(var a,o,l,r,i,n=zingchart.getLoader(t.id),C=0,_=e[ZC._[16]].length;C<_;C++)if(e[ZC._[16]][C].type&&"wordcloud"===e[ZC._[16]][C].type){var h=e[ZC._[16]][C].type,s=e[ZC._[16]][C],p=ZC.ADY.getDefaults(t.theme),Z={};for(s.options&&(Z=s.options[h]||s.options),ZC._todash_(Z,!0,["words"]),s[ZC._[10]]=s[ZC._[10]]||[],r=s[ZC._[10]].length-1;r>=0;r--)(s[ZC._[10]][r]["data-word-cloud"]||s[ZC._[10]][r].dataWordCloud)&&s[ZC._[10]].splice(r,1);s.plotarea=s.plotarea||{},null===ZC._n_(s.plotarea.margin)&&(s.plotarea.margin=5);var A=new ZC.ADY;null!==ZC._n_(a=Z.text)&&(A.AR=a),null!==ZC._n_(a=Z.words)&&(A.aWords=a),null!==ZC._n_(a=Z.aspect)&&(A.CV=a),null!==ZC._n_(a=Z.ignore)&&(A.ACK=a),null!==ZC._n_(a=Z.token)&&(A.EQ=a),null!==ZC._n_(a=Z["min-length"])&&(A.AF4=ZC._i_(a)),null!==ZC._n_(a=Z["min-font-size"])&&(A.AF6=ZC._i_(a)),null!==ZC._n_(a=Z["max-font-size"])&&(A.AF5=ZC._i_(a)),null!==ZC._n_(a=Z["max-items"])&&(A.EF=ZC._i_(a)),null!==ZC._n_(a=Z["color-type"])&&(A.AFB=a),null!==ZC._n_(a=Z.color)&&(A.C1=ZC.AP.G8(a)),null!==ZC._n_(a=Z.palette)?A.BP=a:A.BP=p.palette,null!==ZC._n_(a=Z["step-angle"])&&(A.AF3=ZC._i_(a)),null!==ZC._n_(a=Z["step-radius"])&&(A.AF2=ZC._i_(a)),null!==ZC._n_(a=Z.rotate)&&(A.ZU=ZC._b_(a)),null!==ZC._n_(a=Z.normalize)&&(A.bNormalize=ZC._b_(a));var F={};null!==ZC._n_(a=Z.style)&&ZC._cp_(a,F);var f=zingchart.getInstance(n,"textbox");f.append(F),f.parse(),A.AF6=ZC.BQ(4,A.AF6),A.AF5=ZC.BQ(4,A.AF5),A.AF6>=A.AF5&&(A.AF5=A.AF6+2);var u=zingchart.getGraphInfo(n,e,C),c=[],d=u.plotarea.x+u.plotarea.width/2,g=u.plotarea.y+u.plotarea.height/2,w=1;"spiral"===A.CV?w=A.ZU?.65:.55:"flow-top"!==A.CV&&"flow-center"!==A.CV||(A.ZU=!1,w=.75);var x=u.plotarea.width*u.plotarea.height*w,v=A.F0(),E=[],b=-Number.MAX_VALUE,V=Number.MAX_VALUE;for(var m in v)E.push({text:m,count:v[m],hits:v[m]});for(E.sort(function(t,e){return t.count<e.count?1:t.count>e.count?-1:0}),-1!==A.EF&&E.splice(A.EF,E.length-A.EF),o=0;o<E.length;o++)b=ZC.BQ(E[o].count,b),V=ZC.CX(E[o].count,V);for(o=0;o<E.length;o++)E[o].count=b===V?50:10+90*(E[o].count-V)/(b-V);var y=function(t){for(o=0;o<E.length;o++)E[o].fontSize=Math.max(A.AF6,ZC._i_(A.AF6+E[o].count/100*(A.AF5-A.AF6))-t),E[o].width=ZC.Q.A4S(n.K,E[o].text,f.GF,E[o].fontSize,f.sFontWeight,f.FJ)+f.EO+f.FN,E[o].height=1.1*E[o].fontSize+f.FM+f.FT};y(0);for(var B=!1;!B;){B=!0;var z=0;for(o=0;o<E.length;o++)z+=E[o].width*E[o].height;z>x&&(B=!1,A.AF5--,A.AF5<=A.AF6+4&&A.AF6--,y(0),(A.AF6<5||A.AF5<5)&&(B=!0))}null===ZC._n_(Z["step-radius"])&&(A.AF2=(A.AF5-A.AF6+.25*A.AF6*A.AF4+1)/10);for(var M=!0,W=-1;M&&W<A.AF5-A.AF6;){c=[],s[ZC._[10]]=[],y(W+=1),M=!1;var R,X=0,Y=0,Q=A.AF5/2,k=A.AF5/2,D=[];for(o=0,l=E.length;o<l;o++){var N=!0,G=d,I=g,S=A.C1;switch(A.AFB){case"random":S=A.AGH();break;case"palette":S=A.BP[o%A.BP.length]}var U=A.ZU?o%4==0||o%4==3?0:90:0,L=!1,P=E[o].text,K={padding:0,dataWordCloud:!0};ZC._cp_(F,K),ZC._cp_({angle:U,"font-size":Math.max(A.AF6,E[o].fontSize-W),text:P,color:S},K),null!==ZC._n_(Z.style)&&null!==ZC._n_(a=Z.style[ZC._[71]])&&(K[ZC._[71]]={},ZC._cp_(a,K[ZC._[71]]));var O=P;K.tooltip={visible:!1,"background-color":"#fff",color:"#333","border-width":1,"border-color":"#999",padding:10,text:O},null!==ZC._n_(Z.style)&&null!==ZC._n_(a=Z.style.tooltip)&&ZC._cp_(a,K.tooltip),K.tooltip.text=K.tooltip.text.replace("%text",P).replace("%hits",E[o].hits),A.oWordsMap&&null!==ZC._n_(A.oWordsMap[P])&&(ZC._cp_(A.oWordsMap[P],K),ZC._cp_(A.oWordsMap[P].style,K));var H=0,J=0,T=0,j=A.AF6/2;for("flow-top"===A.CV?T=1:"flow-center"===A.CV&&(T=o%2==0?1:-1),D[o]=0;N&&!M;){var q=E[o].width,$=E[o].height;if("spiral"===A.CV?(G=d+(0===o?0:Q)*ZC.EE(X)-q/2,I=g+(0===o?0:k)*ZC.EN(X)-$/2):"flow-center"===A.CV?(G=0===o?d-q/2:u.plotarea.x+H,I=g-$/2+J):"flow-top"===A.CV&&(G=0===o?d-q/2:u.plotarea.x+H,I=u.plotarea.y+J),90===U&&"flow-top"===A.CV&&(I=ZC.BQ(I,u.plotarea.y+$)),K.x=ZC._i_(G),K.y=ZC._i_(I),N=!1,90===U){var tt=q;G=ZC._i_(G+q/2-$/2),I=ZC._i_(I+$/2-q/2),q=$,$=tt}if(G<u.plotarea.x||G+q>u.plotarea.x+u.plotarea.width||I<u.plotarea.y||I+$>u.plotarea.y+u.plotarea.height)if("spiral"===A.CV){if(!(D[o]<200)){L=!0,M=!0;break}D[o]++,N=!0}else if("flow-top"===A.CV||"flow-center"===A.CV){if(G+q>u.plotarea.x+u.plotarea.width&&(N=!0,H=-j,J+=T*j),I+$>u.plotarea.y+u.plotarea.height){L=!0;break}if(I<u.plotarea.y){L=!0;break}}if(R={iX:G,iY:I,I:q,F:$,DH:Math.max(E[o].fontSize-W,A.AF6),AR:E[o].text,GF:f.GF},!N)for(r=0,i=c.length;r<i;r++)if(A.intersectRect(c[r],R)){H+=c[r].I,N=!0;break}"spiral"===A.CV?N?(X+=A.AF3)>Y+360&&(Q+=A.AF2,k+=A.AF2*(u.plotarea.height/u.plotarea.width),X=Y=5*o%360):(Q=k=A.AF5/2,X=Y=5*o%360):"flow-top"!==A.CV&&"flow-center"!==A.CV||N&&(H+=j)}L||R.iX<u.plotarea.x||R.iX+R.I>u.plotarea.x+u.plotarea.width||R.iY<u.plotarea.y||R.iY+R.F>u.plotarea.y+u.plotarea.height||(c.push(R),s[ZC._[10]].push(K))}"flow-top"!==A.CV&&"flow-center"!==A.CV||E.length>c.length&&(M=!0)}}return e})}();