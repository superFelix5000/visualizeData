<div class="p-5">
    <button
        class="absolute right-0 top-0 bg-blue-200 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"
        (click)="reloadData()"
    >
        Reload
    </button>

    <h2 class="text-2xl">Year balances</h2>
    <div
        class="flex flex-row flex-wrap"
        *ngIf="(yearBalances$ | async).length > 0"
    >
        <div
            class="flex flex-row m-5 p-5 bg-slate-200 rounded-lg"
            *ngFor="let yearBalance of yearBalances$ | async; let i = index"
        >
            <h3 class="font-bold">{{ years[i] }}</h3>
            <h4
                class="ml-2"
                [class.positive]="yearBalance > 0"
                [class.negative]="yearBalance < 0"
            >
                {{ yearBalance | number }}
            </h4>
        </div>
    </div>

    <mat-form-field>
        <mat-label>Select a year</mat-label>
        <mat-select
            [value]="selectedYear$ | async"
            (selectionChange)="onYearSelectionChange($event)"
        >
            <mat-option *ngFor="let year of years" [value]="year">{{
                year
            }}</mat-option>
        </mat-select>
    </mat-form-field>

    <div class="px-10">
        <zingchart-angular
            (node_click)="nodeClicked($event)"
            [config]="config"
            [series]="series$ | async"
            [height]="500"
        ></zingchart-angular>
    </div>
</div>
